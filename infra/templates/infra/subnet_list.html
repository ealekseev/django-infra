{% extends "base.html" %}

{% block title %}Подсети{% endblock %}
{% load django_bootstrap_breadcrumbs %}
{% block breadcrumbs %}
  {{ block.super }}
  {% breadcrumb "Подсети" "subnet_list" infra.urls %}
{% endblock %}
{% block content %}
<form class="well form-horizontal" role="form" action="{% url 'infra:subnet_list' %}" method="post">{% csrf_token %}
  <div class="form-group">
    <label for="id_net" class="col-sm-2 control-label">Подсеть</label>
    <div class="col-sm-10">
      <input type="text" id="id_net" name="net"/>
    </div>
  </div>
 <div class="form-group">
    <label for="id_mark" class="col-sm-2 control-label">Метка</label>
    <div class="col-sm-10">
      <input type="text" id="id_mark" name="mark"/>
    </div>
  </div> 
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="submit" class="btn btn-default">Искать</button>
    </div>
  </div>
</form>
{% if subnets %}
    <div class="container">
    {% if subnets.paginator.num_pages and subnets.paginator.num_pages > 1 %}
       <ul class="pagination pagination-sm">
         <li {% if not subnets.has_previous %}class="disabled"{% endif %}><a href="{% if subnets.has_previous %}?page={{ subnets.previous_page_number }}{% else %}#{% endif %}"><span>&laquo;</span></a></li>
         {% for page in subnets.paginator.page_range %}
         <li {% if subnets.number == page %}class="active"{% endif %}><a href="?page={{ page }}"><span>{{ page }} {% if subnets.page == page %}<span class="sr-only">(текущая)</span>{% endif %}</span></a></li>
         {% endfor %}
         <li {% if not subnets.has_next %}class="disabled"{% endif %}><a href="{% if subnets.has_next %}?page={{ subnets.next_page_number }}{% else %}#{% endif %}"><span>&raquo;</span></a></li>
       </ul>
    </div>
    {% endif %}
    {% for  subnet in subnets %}
        <a class="muted" href="{% url 'infra:subnet_details' subnet.id %}">{{ subnet }}</a><br>
    {% endfor %}
{% else %}
    <p>Список сборок пуст.</p>
{% endif %}
{% endblock %}
